<div class="map-canvas" #mapCanvas></div>
<div class="map-controls" [ngSwitch]="mapState">
    <md-card class="map-settings" *ngSwitchCase="mapStateEnum.VIEWING">
        <md-card-content>
            <div class="map-setting" *ngFor="let mapObjectSetting of mapObjectSettings">
                <md-slide-toggle [(ngModel)]="mapObjectSetting.visible" (ngModelChange)="onCheckboxChange(mapObjectSetting)">
                    {{mapObjectSetting.name}}
                </md-slide-toggle>
                <div class="map-sub-settings" *ngIf="mapObjectSetting.visible && mapObjectSetting.mapFilterOptions.length > 1" [@slideInOut]="mapObjectSetting.visible">
                    <md-radio-group [(ngModel)]="mapObjectSetting.mapFilter" (ngModelChange)="onRadioChange()">
                        <md-radio-button class="map-sub-setting" *ngFor="let option of mapObjectSetting.mapFilterOptions" [value]="option">
                            <div>
                                <div (mouseenter)="option.showInfo = true" (mouseleave)="option.showInfo = false">
                                    {{ option.name }}
                                    <md-icon class="infoIcon" *ngIf="option.infoText">info</md-icon>
                                </div>
                                <div class="infoText" *ngIf="option.showInfo" [@slideInOut]="option.showInfo">
                                    {{ option.infoText }}
                                </div>
                            </div>
                        </md-radio-button>
                    </md-radio-group>
                </div>
            </div>
        </md-card-content>
    </md-card>

    <cg-map-object-creation *ngSwitchCase="mapStateEnum.ADDING" (onError)="setErrorMessage($event)" [map]="map" (onSuccess)="setSuccessMessage($event)" (onDestroy)="addMapListener()"></cg-map-object-creation>

    <div [ngSwitch]= "mapState">
        <button md-raised-button class="map-modification-button" *ngSwitchCase="mapStateEnum.VIEWING" md-button (click)="addEventState()">Aktivit√§t melden</button>
        <button md-raised-button class="map-modification-button" *ngSwitchCase="mapStateEnum.ADDING" md-button (click)="viewingState()">Abrechen</button>
    </div>
</div>
<div [ngSwitch]= "selectedMapObjectType" class="map-infos" *ngIf="mapState == mapStateEnum.VIEWING">
    <cg-event-detail *ngSwitchCase="0" [id]="selectedMapObject.id" (onError)="setErrorMessage($event)" (onClose)="clearInfoBox()"></cg-event-detail>
    <cg-fb-detail *ngSwitchCase="1" [id]="selectedMapObject.id" (onError)="setErrorMessage($event)" (onClose)="clearInfoBox()"></cg-fb-detail>
</div>
<md-card class="error-message" *ngIf="errorMessage">{{errorMessage}}</md-card>
<md-card class="success-message" *ngIf="successMessage">{{successMessage}}</md-card>
